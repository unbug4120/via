(self.webpackChunk=self.webpackChunk||[]).push([[250],{7412:t=>{t.exports=function(t,e){for(var r=-1,a=null==t?0:t.length;++r<a&&!1!==e(t[r],r,t););return t}},4865:(t,e,r)=>{var a=r(9465),n=r(7813),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var o=t[e];i.call(t,e)&&n(o,r)&&(void 0!==r||e in t)||a(t,e,r)}},4037:(t,e,r)=>{var a=r(8363),n=r(3674);t.exports=function(t,e){return t&&a(e,n(e),t)}},3886:(t,e,r)=>{var a=r(8363),n=r(1704);t.exports=function(t,e){return t&&a(e,n(e),t)}},9465:(t,e,r)=>{var a=r(8777);t.exports=function(t,e,r){"__proto__"==e&&a?a(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},5990:(t,e,r)=>{var a=r(6384),n=r(7412),i=r(4865),o=r(4037),s=r(3886),l=r(4626),c=r(278),u=r(8805),f=r(1911),d=r(8234),p=r(6904),m=r(4160),b=r(3824),v=r(9148),h=r(8517),y=r(1469),g=r(4144),_=r(6688),x=r(3218),j=r(2928),C=r(3674),w=r(1704),k="[object Arguments]",A="[object Function]",P="[object Object]",F={};F[k]=F["[object Array]"]=F["[object ArrayBuffer]"]=F["[object DataView]"]=F["[object Boolean]"]=F["[object Date]"]=F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Map]"]=F["[object Number]"]=F[P]=F["[object RegExp]"]=F["[object Set]"]=F["[object String]"]=F["[object Symbol]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F["[object Error]"]=F[A]=F["[object WeakMap]"]=!1,t.exports=function t(e,r,O,S,U,$){var D,E=1&r,N=2&r,T=4&r;if(O&&(D=U?O(e,S,U,$):O(e)),void 0!==D)return D;if(!x(e))return e;var B=y(e);if(B){if(D=b(e),!E)return c(e,D)}else{var I=m(e),Z=I==A||"[object GeneratorFunction]"==I;if(g(e))return l(e,E);if(I==P||I==k||Z&&!U){if(D=N||Z?{}:h(e),!E)return N?f(e,s(D,e)):u(e,o(D,e))}else{if(!F[I])return U?e:{};D=v(e,I,E)}}$||($=new a);var q=$.get(e);if(q)return q;$.set(e,D),j(e)?e.forEach((function(a){D.add(t(a,r,O,a,e,$))})):_(e)&&e.forEach((function(a,n){D.set(n,t(a,r,O,n,e,$))}));var z=B?void 0:(T?N?p:d:N?w:C)(e);return n(z||e,(function(a,n){z&&(a=e[n=a]),i(D,n,t(a,r,O,n,e,$))})),D}},3118:(t,e,r)=>{var a=r(3218),n=Object.create,i=function(){function t(){}return function(e){if(!a(e))return{};if(n)return n(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},5588:(t,e,r)=>{var a=r(4160),n=r(7005);t.exports=function(t){return n(t)&&"[object Map]"==a(t)}},9221:(t,e,r)=>{var a=r(4160),n=r(7005);t.exports=function(t){return n(t)&&"[object Set]"==a(t)}},313:(t,e,r)=>{var a=r(3218),n=r(5726),i=r(3498),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!a(t))return i(t);var e=n(t),r=[];for(var s in t)("constructor"!=s||!e&&o.call(t,s))&&r.push(s);return r}},4290:(t,e,r)=>{var a=r(6557);t.exports=function(t){return"function"==typeof t?t:a}},4318:(t,e,r)=>{var a=r(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new a(e).set(new a(t)),e}},4626:(t,e,r)=>{t=r.nmd(t);var a=r(5639),n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,o=i&&i.exports===n?a.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,a=s?s(r):new t.constructor(r);return t.copy(a),a}},7157:(t,e,r)=>{var a=r(4318);t.exports=function(t,e){var r=e?a(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},419:(t,e,r)=>{var a=r(2705),n=a?a.prototype:void 0,i=n?n.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},7133:(t,e,r)=>{var a=r(4318);t.exports=function(t,e){var r=e?a(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},278:t=>{t.exports=function(t,e){var r=-1,a=t.length;for(e||(e=Array(a));++r<a;)e[r]=t[r];return e}},8363:(t,e,r)=>{var a=r(4865),n=r(9465);t.exports=function(t,e,r,i){var o=!r;r||(r={});for(var s=-1,l=e.length;++s<l;){var c=e[s],u=i?i(r[c],t[c],c,r,t):void 0;void 0===u&&(u=t[c]),o?n(r,c,u):a(r,c,u)}return r}},8805:(t,e,r)=>{var a=r(8363),n=r(9551);t.exports=function(t,e){return a(t,n(t),e)}},1911:(t,e,r)=>{var a=r(8363),n=r(1442);t.exports=function(t,e){return a(t,n(t),e)}},8777:(t,e,r)=>{var a=r(852),n=function(){try{var t=a(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=n},6904:(t,e,r)=>{var a=r(8866),n=r(1442),i=r(1704);t.exports=function(t){return a(t,i,n)}},5924:(t,e,r)=>{var a=r(5569)(Object.getPrototypeOf,Object);t.exports=a},1442:(t,e,r)=>{var a=r(2488),n=r(5924),i=r(9551),o=r(479),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)a(e,i(t)),t=n(t);return e}:o;t.exports=s},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,a=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(a.index=t.index,a.input=t.input),a}},9148:(t,e,r)=>{var a=r(4318),n=r(7157),i=r(3147),o=r(419),s=r(7133);t.exports=function(t,e,r){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return a(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return n(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,r);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return i(t);case"[object Set]":return new l;case"[object Symbol]":return o(t)}}},8517:(t,e,r)=>{var a=r(3118),n=r(5924),i=r(5726);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:a(n(t))}},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},6678:(t,e,r)=>{var a=r(5990);t.exports=function(t){return a(t,4)}},6073:(t,e,r)=>{t.exports=r(4486)},4486:(t,e,r)=>{var a=r(7412),n=r(9881),i=r(4290),o=r(1469);t.exports=function(t,e){return(o(t)?a:n)(t,i(e))}},6688:(t,e,r)=>{var a=r(5588),n=r(7518),i=r(1167),o=i&&i.isMap,s=o?n(o):a;t.exports=s},2928:(t,e,r)=>{var a=r(9221),n=r(7518),i=r(1167),o=i&&i.isSet,s=o?n(o):a;t.exports=s},1704:(t,e,r)=>{var a=r(4636),n=r(313),i=r(8612);t.exports=function(t){return i(t)?a(t,!0):n(t)}},8845:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var a=r(6073),n=r.n(a);const i={name:"FilePicker",props:{label:{type:String,default:null},message:{type:String,default:null},currentFile:{default:null}},data:function(){return{errors:{},file:null,uploadPercent:0,isUploadSuccess:!1}},computed:{fieldFileMessage:function(){return this.errors.file?this.errors.file[0]:this.isUploadSuccess?"File uploaded. Submit to store":this.uploadPercent?"Uploading ".concat(this.uploadPercent,"%"):this.message},uploadButtonText:function(){return this.fileName?null:"Pick a file"},uploadButtonIcon:function(){return this.fileName?"cloud-sync":"cloud-upload"},fieldFileType:function(){return this.errors.file?"is-danger":null},fileName:function(){return this.file?this.file.name:this.currentFile?this.currentFile:null}},methods:{upload:function(t){var e=this;this.errors={};var r=new FormData;r.append("file",this.file),this.isUploadSuccess=!1,axios.post("/files/store",r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:this.progressEvent}).then((function(t){e.isUploadSuccess=!0,e.$emit("file-updated",t.data.data),e.$emit("file-id-updated",t.data.data.id)})).catch((function(t){e.file=null,e.uploadPercent=0,t.response.data.errors?e.errors=t.response.data.errors:e.errors={_all:["Upload error"]},n()(e.errors,(function(t){e.$buefy.toast.open({message:t[0],type:"is-danger",queue:!1})}))}))},dropFile:function(){this.file=null,this.isUploadSuccess=!1,this.uploadPercent=0,this.$emit("file-updated",null),this.$emit("file-id-updated",null)},progressEvent:function(t){this.uploadPercent=Math.round(100*t.loaded/t.total)}}};const o=(0,r(1900).Z)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-field",{attrs:{label:t.label,message:t.fieldFileMessage,type:t.fieldFileType}},[r("b-field",[r("b-upload",{on:{input:t.upload},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}},[r("a",{staticClass:"button is-primary"},[r("b-icon",{attrs:{icon:t.uploadButtonIcon,"custom-size":"default"}}),t._v(" "),t.uploadButtonText?r("span",[t._v(t._s(t.uploadButtonText))]):t._e()],1)]),t._v(" "),t.fileName?r("div",{staticClass:"control"},[r("a",{staticClass:"button is-static is-file-upload-label"},[r("span",{attrs:{title:t.fileName}},[t._v(t._s(t.fileName))]),t._v(" "),r("span",{staticClass:"delete",on:{click:function(e){return e.preventDefault(),t.dropFile(e)}}})])]):t._e()],1)],1)}),[],!1,null,null,null).exports},6271:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const a={name:"Notification",data:function(){return{isDismissed:!1}},methods:{dismiss:function(){this.isDismissed=!0,this.$buefy.snackbar.open({message:"Dismissed",queue:!1})}}};const n=(0,r(1900).Z)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isDismissed?t._e():r("div",{staticClass:"notification"},[r("div",{staticClass:"level"},[r("div",{staticClass:"level-left"},[r("div",{staticClass:"level-item"},[t._t("default")],2)]),t._v(" "),r("div",{staticClass:"level-right"},[r("button",{staticClass:"button is-small is-white",attrs:{type:"button"},on:{click:t.dismiss}},[t._v("Dismiss")])])])])}),[],!1,null,null,null).exports},7250:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>p});var a=r(6678),n=r.n(a),i=r(3068),o=r(2913),s=r(8855),l=r(9831),c=r(8845),u=r(8408),f=r(6271);const d={name:"ClientForm",components:{UserAvatar:u.Z,FilePicker:c.Z,CardComponent:l.Z,Tiles:s.Z,HeroBar:o.Z,TitleBar:i.Z,Notification:f.Z},props:{id:{default:null}},data:function(){return{isLoading:!1,item:null,form:this.getClearFormObject(),createdReadable:null}},computed:{titleStack:function(){return["Admin","Clients",this.isProfileExists?this.form.name:"New client"]},heroTitle:function(){return this.isProfileExists?this.form.name:"Create Client"},formCardTitle:function(){return this.isProfileExists?"Edit Client":"New Client"},isProfileExists:function(){return!!this.item}},created:function(){this.getData()},methods:{getClearFormObject:function(){return{id:null,name:null,company:null,city:null,created_date:new Date,created_mm_dd_yyyy:null,progress:0,avatar:null,avatar_filename:null,file_id:null}},getData:function(){var t=this;this.id&&axios.get("/clients/".concat(this.id)).then((function(e){t.form=e.data.data,t.item=n()(e.data.data),t.form.created_date=new Date(e.data.data.created_mm_dd_yyyy)})).catch((function(e){t.item=null,t.$buefy.toast.open({message:"Error: ".concat(e.message),type:"is-danger",queue:!1})}))},fileIdUpdated:function(t){this.form.file_id=t,this.form.avatar_filename=null},input:function(t){},submit:function(){var t=this;this.isLoading=!0;var e="post",r="/clients/store";this.id&&(e="patch",r="/clients/".concat(this.id)),axios({method:e,url:r,data:this.form}).then((function(e){t.isLoading=!1,!t.id&&e.data.data.id?(t.$router.push({name:"clients.edit",params:{id:e.data.data.id}}),t.$buefy.snackbar.open({message:"Created",queue:!1})):(t.item=e.data.data,t.$buefy.snackbar.open({message:"Updated",queue:!1}))})).catch((function(e){t.isLoading=!1,t.$buefy.toast.open({message:"Error: ".concat(e.message),type:"is-danger",queue:!1})}))}},watch:{id:function(t){this.form=this.getClearFormObject(),this.item=null,t&&this.getData()}}};const p=(0,r(1900).Z)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("title-bar",{attrs:{"title-stack":t.titleStack}}),t._v(" "),r("hero-bar",[t._v("\n    "+t._s(t.heroTitle)+"\n    "),r("router-link",{staticClass:"button",attrs:{slot:"right",to:"/clients/index"},slot:"right"},[t._v("\n      Clients\n    ")])],1),t._v(" "),r("section",{staticClass:"section is-main-section"},[r("tiles",[r("card-component",{staticClass:"tile is-child",attrs:{title:t.formCardTitle,icon:"account-edit"}},[r("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.id?[r("b-field",{attrs:{label:"ID",horizontal:""}},[r("b-input",{attrs:{value:t.id,"custom-class":"is-static",readonly:""}})],1),t._v(" "),r("hr")]:t._e(),t._v(" "),r("b-field",{attrs:{label:"Avatar",horizontal:""}},[r("file-picker",{attrs:{"current-file":t.form.avatar_filename},on:{"file-id-updated":t.fileIdUpdated}})],1),t._v(" "),r("hr"),t._v(" "),r("b-field",{attrs:{label:"Name",message:"Client name",horizontal:""}},[r("b-input",{attrs:{placeholder:"e.g. John Doe",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),r("b-field",{attrs:{label:"Company",message:"Client's company name",horizontal:""}},[r("b-input",{attrs:{placeholder:"e.g. Berton & Steinway",required:""},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}})],1),t._v(" "),r("b-field",{attrs:{label:"City",message:"Client's city",horizontal:""}},[r("b-input",{attrs:{placeholder:"e.g. Geoffreyton",required:""},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),t._v(" "),r("b-field",{attrs:{label:"Created",horizontal:""}},[r("b-datepicker",{attrs:{placeholder:"Click to select...",icon:"calendar-today"},on:{input:t.input},model:{value:t.form.created_date,callback:function(e){t.$set(t.form,"created_date",e)},expression:"form.created_date"}})],1),t._v(" "),r("hr"),t._v(" "),r("b-field",{attrs:{label:"Progress",horizontal:""}},[r("b-slider",{model:{value:t.form.progress,callback:function(e){t.$set(t.form,"progress",e)},expression:"form.progress"}})],1),t._v(" "),r("hr"),t._v(" "),r("b-field",{attrs:{horizontal:""}},[r("b-button",{attrs:{type:"is-primary",loading:t.isLoading,"native-type":"submit"}},[t._v("Submit")])],1)],2)]),t._v(" "),t.isProfileExists?r("card-component",{staticClass:"tile is-child",attrs:{title:"Client Profile",icon:"account"}},[r("user-avatar",{staticClass:"image has-max-width is-aligned-center",attrs:{avatar:t.item.avatar,"is-current-user":!1}}),t._v(" "),r("hr"),t._v(" "),r("b-field",{attrs:{label:"Name"}},[r("b-input",{attrs:{value:t.item.name,"custom-class":"is-static",readonly:""}})],1),t._v(" "),r("b-field",{attrs:{label:"Company"}},[r("b-input",{attrs:{value:t.item.company,"custom-class":"is-static",readonly:""}})],1),t._v(" "),r("b-field",{attrs:{label:"City"}},[r("b-input",{attrs:{value:t.item.city,"custom-class":"is-static",readonly:""}})],1),t._v(" "),r("b-field",{attrs:{label:"Created"}},[r("b-input",{attrs:{value:t.item.created,"custom-class":"is-static",readonly:""}})],1),t._v(" "),r("hr"),t._v(" "),r("b-field",{attrs:{label:"Progress"}},[r("progress",{staticClass:"progress is-small is-primary",attrs:{max:"100"},domProps:{value:t.item.progress}},[t._v(t._s(t.item.progress))])])],1):t._e()],1)],1)],1)}),[],!1,null,null,null).exports}}]);